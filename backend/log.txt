(node:30287) [DEP0147] DeprecationWarning: In future versions of Node.js, fs.rmdir(path, { recursive: true }) will be removed. Use fs.rm(path, { recursive: true }) instead
(Use `node --trace-deprecation ...` to show where the warning was created)

[31mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[39m

[41m[1m FAIL [22m[49m src/iamf/test/iamf_creation.test.ts[2m > [22mTest create IAMF files from given payloads
[31m[1mError[22m: ENOTEMPTY: directory not empty, rmdir '/Users/joelm/Desktop/ia-tools/backend/src/iamf/test/iamf_creation_test_output'[39m
[36m [2mâ¯[22m src/iamf/test/iamf_creation.test.ts:[2m33:8[22m[39m
    [90m 31| [39m
    [90m 32| [39m  [34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 33| [39m    fs[33m.[39m[34mrmdirSync[39m(iamfStorage[33m.[39mstorageDir)[33m;[39m
    [90m   | [39m       [31m^[39m
    [90m 34| [39m  })[33m;[39m
    [90m 35| [39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/6]â¯[22m[39m


[31mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[39m[1m[41m Failed Tests 5 [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[39m

[41m[1m FAIL [22m[49m src/iamf/test/iamf_creation.test.ts[2m > [22mTest create IAMF files from given payloads[2m > [22m1AE1MP
[41m[1m FAIL [22m[49m src/iamf/test/iamf_creation.test.ts[2m > [22mTest create IAMF files from given payloads[2m > [22m1AE1MP: All audio element formats
[41m[1m FAIL [22m[49m src/iamf/test/iamf_creation.test.ts[2m > [22mTest create IAMF files from given payloads[2m > [22m1AE2MP
[41m[1m FAIL [22m[49m src/iamf/test/iamf_creation.test.ts[2m > [22mTest create IAMF files from given payloads[2m > [22m2AE2MP
[41m[1m FAIL [22m[49m src/iamf/test/iamf_creation.test.ts[2m > [22mTest create IAMF files from given payloads[2m > [22m4AE1MP
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'create')[39m
[36m [2mâ¯[22m ChildProcess.<anonymous> src/iamf/parser/iamf_file.ts:[2m41:30[22m[39m
    [90m 39| [39m    iamfProcess[33m.[39m[34mon[39m([32m"close"[39m[33m,[39m [35masync[39m (code) [33m=>[39m {
    [90m 40| [39m      [35mtry[39m {
    [90m 41| [39m        [35mawait[39m iamfJobStorage[33m.[39m[34mcreate[39m([33mBuffer[39m[33m.[39m[35mfrom[39m(logData)[33m,[39m logFileID)[33m;[39m
    [90m   | [39m                             [31m^[39m
    [90m 42| [39m        [35mif[39m (code [33m!==[39m [34m0[39m) {
    [90m 43| [39m          console[33m.[39m[34merror[39m(

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/6]â¯[22m[39m

[31mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[39m[1m[41m Unhandled Errors [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[39m
[31m[1m
Vitest caught 1 unhandled error during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.[22m[39m

[31mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[39m[1m[41m Unhandled Rejection [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'delete')[39m
[36m [2mâ¯[22m ChildProcess.<anonymous> src/iamf/parser/iamf_file.ts:[2m55:32[22m[39m
    [90m 53| [39m      } [35mfinally[39m {
    [90m 54| [39m        [35mif[39m (code [33m!==[39m [34m0[39m) {
    [90m 55| [39m          [35mawait[39m iamfJobStorage[33m.[39m[35mdelete[39m(logFileID)[33m;[39m
    [90m   | [39m                               [31m^[39m
    [90m 56| [39m        }
    [90m 57| [39m      }
[90m [2mâ¯[22m ChildProcess.emit node:events:[2m507:28[22m[39m
[90m [2mâ¯[22m maybeClose node:internal/child_process:[2m1101:16[22m[39m
[90m [2mâ¯[22m Socket.<anonymous> node:internal/child_process:[2m457:11[22m[39m
[90m [2mâ¯[22m Socket.emit node:events:[2m507:28[22m[39m
[90m [2mâ¯[22m Pipe.<anonymous> node:net:[2m351:12[22m[39m

[31mThis error originated in "[1msrc/iamf/test/iamf_creation.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1m1AE2MP[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m
[31mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[39m

